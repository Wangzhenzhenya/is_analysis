##  **借出图书用例**  

| 用例名称 | 借出图书                                       |
|:-------- | ---------------------------------------------- |
| 参与者   | 图书管理员（图书管理员)、读者(次要参与者)      |
| 前置条件 | 图书管理员已被识别和授权                       |
| 后置条件 | 存储借书记录，更新库存数量，所借图书状态为借出 |


主事件流

| 参与者动作                                                   | 系统行为                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 1.图书管理员将读者借书卡提供给系统； <br />3.图书管理员将读者所借图书输入系统； <br />6.重复3~5，直到图书管理员确认全部图书登记完毕； | 2.系统验证读者身份和借书条件； <br />4.系统记录借书信息，并且修改图书的状态和此种书的可借数量；         <br />5.系统累加读者的借书数量；<br />7.系统打印结束清单，交易成功完成 |

| 备选事件流                                                   |
| ------------------------------------------------------------ |
| 2a.读者身份和借书条件不符合<br />①系统提示读者身份和借书条件不符合，用例结束<br />4a.系统查询借书信息<br />①系统查看借书状态，若借书数量为0，系统提示该书暂时不可借<br />②否则，修改图书状态<br />5a.系统记录读者借书数量<br />①若借书量超标，则提示不可借<br />②若未超，则累加读者的借书数量 |

| 业务规则                                                     |
| ------------------------------------------------------------ |
| 1.一个读者可以多次借书<br />2.图书状态为不可借的书，不能选择借书<br />3.读者借书数量达标以后，不能再借 |

**“借出图书”用例流程图源码如下：**
```puml
@startuml
(*) -->借阅证进行身份判断
if "系统判断借阅身份" then
-->[true]"身份验证通过"

if"系统验证所借图书状态" then
-->[true]"图书可借阅"

if"系统判断所借图书是否超标或存在逾期" then
-->[true]"未超标逾期"
-->"成功借阅"
-->"记录信息,修改可借数量"
-->"累加读者的借书数量"
-->(*)

else
-->[false]"存在超标逾期无法借阅"
-->(*)

endif

else
-->[false]"图书不可借阅"
--> (*)
endif

else
-->[false]"身份不符无法借阅"
-->(*)
endif
@enduml

```
![progress](./img/borrow.png)